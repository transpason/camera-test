<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <style>
div {
  margin: 10px;
}
  </style>
  <title>GPS detection</title>
</head>
<body>

<h1>GPS support</h1> 
<div id="msg">
</div>
<h1>Location</h1>
<div id="loc">
</div>

<script>
    var msg = document.getElementById('msg');
    var loc = document.getElementById('loc');

    // Geolocation APIに対応している
    if( navigator.geolocation ){
        msg.textContent = 'YES';

        var opts = {enableHighAccuracy: true, timeout: 5000, maximumAge: 5000};
        navigator.geolocation.getCurrentPosition(ok, ng, opts);
    } else {
        msg.textContent = 'NO';
    }

    function ok(pos) {
       loc.innerHTML = '<table>' +
       '<tr><td>Coordinates.latitude</td><td>' + pos.coords.latitude + '</td></tr>' +
       '<tr><td>Coordinates.longitude</td><td>' + pos.coords.longitude + '</td></tr>' +
       '<tr><td>Coordinates.altitude</td><td>' + pos.coords.altitude + '</td></tr>' +
       '<tr><td>Coordinates.accuracy</td><td>' + pos.coords.accuracy + '</td></tr>' +
       '<tr><td>Coordinates.altitudeAccuracy</td><td>' + pos.coords.altitudeAccuracy + '</td></tr>' +
       '<tr><td>Coordinates.heading</td><td>' + pos.coords.heading + '</td></tr>' +
       '<tr><td>Coordinates.speed</td><td>' + pos.coords.speed + '</td></tr>' +
       '<tr><td>timestamp</td><td>' + pos.timestamp + '</td></tr>' +
       '</table>';
       console.log("OK");
       console.log(pos);
    }

    function ng(err) {
       loc.innerHTML = '<table>' +
       '<tr><td>error</td><td>' + err.code + '</td></tr>' +
       '</table>';
       console.warn("NG");
       console.warn(err);
    }
</script>
</body>
</html>
